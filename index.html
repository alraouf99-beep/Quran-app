<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>محاكي الميراث القرآني</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; }
        .input-group { margin: 15px 0; text-align: right; }
        input, select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ddd; border-radius: 5px; }
        button { background-color: #27ae60; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%; }
        button:hover { background-color: #219150; }
        #result { margin-top: 20px; padding: 15px; border-radius: 5px; display: none; text-align: right; line-height: 1.6; }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    </style>
</head>
<body>

<div class="container">
    <h1>محاكي الميراث القرآني</h1>
    <p style="font-size: 0.9em; color: #666;">ملاحظة: "ولد" تشمل الذكر والأنثى (الفرع الوارث)</p>
    
    <div class="input-group">
        <label>قيمة التركة الإجمالية:</label>
        <input type="number" id="estate" placeholder="أدخل المبلغ">
    </div>

    <div class="input-group">
        <label>هل يوجد "ولد" (ذكر أو أنثى)؟</label>
        <select id="hasChildren">
            <option value="yes">نعم (يوجد فرع وارث)</option>
            <option value="no">لا (لا يوجد فرع وارث)</option>
        </select>
    </div>

    <div class="input-group">
        <label>من المتوفى؟</label>
        <select id="deceased">
            <option value="husband">المتوفى هو الزوج (المطالبة للزوجة)</option>
            <option value="wife">المتوفاة هي الزوجة (المطالبة للزوج)</option>
        </select>
    </div>

    <button onclick="calculate()">احسب الميراث</button>

    <div id="result" class="success"></div>
</div>

<script>
    function calculate() {
        const estate = parseFloat(document.getElementById('estate').value);
        const hasChildren = document.getElementById('hasChildren').value === 'yes';
        const deceased = document.getElementById('deceased').value;
        const resultDiv = document.getElementById('result');

        if (isNaN(estate) || estate <= 0) {
            alert("يرجى إدخال مبلغ صحيح");
            return;
        }

        let share = 0;
        let shareText = "";
        let details = "";

        // حساب نصيب الزوج أو الزوجة بناءً على وجود الولد (الذكر أو الأنثى)
        if (deceased === 'husband') {
            if (hasChildren) {
                share = estate * (1/8);
                shareText = "الثمن (1/8)";
                details = "للزوجة لوجود الولد.";
            } else {
                share = estate * (1/4);
                shareText = "الربع (1/4)";
                details = "للزوجة لعدم وجود الولد.";
            }
        } else {
            if (hasChildren) {
                share = estate * (1/4);
                shareText = "الربع (1/4)";
                details = "للزوج لوجود الولد.";
            } else {
                share = estate * (1/2);
                shareText = "النصف (1/2)";
                details = "للزوج لعدم وجود الولد.";
            }
        }

        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
            <strong>النتيجة:</strong><br>
            نصيب الشريك الوارث هو: <b>${share.toLocaleString()}</b><br>
            النسبة: ${shareText}<br>
            السبب: ${details}<br>
            المتبقي للورثة الآخرين: ${(estate - share).toLocaleString()}
        `;
    }
</script>

</body>
</html>
